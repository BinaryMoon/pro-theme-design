!function($){$.fn.elementalQuiz=function(e){var t={answers:[],brackets:{},score_suffix:"%",title:"awesome",share_extras:"",share_url:window.location.href,share_message:"I got {score} on the {title} quiz!"};return e=$.extend(t,e),this.each(function(){var t=$(this),i=t.find(".quiz-progress div"),n=t.find(".quiz-notice"),r=t.find(".quiz-controls"),s=[],u=0,a=t.find(".quiz-question").length,o=function(){t.find(".quiz-question input[type=radio]:checked").each(function(){s.push($(this).data("key"))});for(var i=[],n=!1,r=0;r<s.length;r++)n=!1,e.answers[r]===s[r]&&(n=!0),i.push(n);return i},c=function(e,t){var i=Math.round(e*Math.pow(10,t))/Math.pow(10,t);return i},h=function(e){u+=e,t.find(".quiz-button-prev").show(),t.find(".quiz-button-next").show(),t.find(".quiz-button-finish").hide(),0===u&&t.find(".quiz-button-prev").hide(),u===a-1&&(t.find(".quiz-button-next").hide(),t.find(".quiz-button-finish").show());var n=Math.round((u+1)/(a+1)*100);i.css("width",n+"%")};t.find(".answers input").click(function(){$(this).parents(".answers").children("li").removeClass("selected"),$(this).parents("li").addClass("selected")}),t.find(".quiz-button-start").click(function(){var e=0;return t.find(".answers").each(function(){$(this).find("input").each(function(){$(this).attr("name","question-"+e)}),e++}),$(".quiz .answers input").prop("checked",!1),$(this).parents(".quiz-intro").hide(),$(".quiz-question").first().addClass("active"),r.show(),h(0),!1}),t.find(".quiz-button-next").click(function(){var e=t.find(".quiz-question.active input[type=radio]:checked");return 0===e.length?(n.show(),!1):(n.hide(),t.find(".quiz-question.active").removeClass("active").next().addClass("active"),h(1),!1)}),$(this).find(".quiz-button-prev").click(function(){n.hide(),t.find(".quiz-question.active").removeClass("active").prev().addClass("active"),h(-1)}),t.find(".quiz-button-finish").click(function(){var i=t.find(".quiz-question.active input[type=radio]:checked");if(0===i.length)return n.show(),!1;t.find(".quiz-question").hide(),r.hide(),t.find(".quiz-results").show();for(var s=o(),u=0,h,f=0;f<s.length;f++)!0===s[f]&&u++;h=c(u/a*100,2),t.find(".quiz-score").html(h+e.score_suffix);var d="";for(var l in e.brackets){if(!(h>=l))break;d=e.brackets[l]}$(".quiz-bracket-"+d).show();var q=e.share_message;return q=q.replace("{title}",e.title),q=q.replace("{score}",h+e.score_suffix),q=q.replace("{url}",e.share_url),$(".quiz-share-twitter").attr("href","https://twitter.com/intent/tweet?text="+encodeURI(q)+"&url="+encodeURI(e.share_url)+e.share_extras),$(".quiz-share-google").attr("href","https://plus.google.com/share?url="),$(".quiz-share-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?u="),!1})})}}(jQuery);