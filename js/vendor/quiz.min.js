!function($){$.fn.elementalQuiz=function(e){var t={answers:[],brackets:{},score_max:null,score_suffix:"%",title:"awesome",share_extras:"",share_url:window.location.href,share_message:"I got {score} on the {title} quiz!"};return e=$.extend(t,e),this.each(function(){var t=$(this),i=t.find(".quiz-progress div"),n=t.find(".quiz-notice"),s=t.find(".quiz-controls"),r=[],a=0,u=t.find(".quiz-question").length,o=function(){r=[],t.find(".quiz-question input[type=radio]:checked").each(function(){r.push($(this).data("key"))});for(var i=[],n=0,s=0;s<r.length;s++)n=0,"string"==typeof e.answers[s]&&e.answers[s]===r[s]&&(n=1),"object"==typeof e.answers[s]&&null!==typeof e.answers[s][r[s]]&&(n=e.answers[s][r[s]]),i.push(n);return i},c=function(e,t){var i=Math.round(e*Math.pow(10,t))/Math.pow(10,t);return i},h=function(e){a+=e,t.find(".quiz-button-prev").show(),t.find(".quiz-button-next").show(),t.find(".quiz-button-finish").hide(),0===a&&t.find(".quiz-button-prev").hide(),a===u-1&&(t.find(".quiz-button-next").hide(),t.find(".quiz-button-finish").show());var n=Math.round((a+1)/(u+1)*100);i.css("width",n+"%")};t.find(".answers input").click(function(){$(this).parents(".answers").children("li").removeClass("selected"),$(this).parents("li").addClass("selected")}),t.find(".quiz-button-start").click(function(){var i=0;return t.find(".answers").each(function(){$(this).find("input").each(function(){$(this).attr("name","question-"+i)}),i++}),$(".quiz .answers input").prop("checked",!1),$(this).parents(".quiz-intro").hide(),$(".quiz-question").first().addClass("active"),s.show(),h(0),null===e.score_max&&(e.score_max=u),!1}),t.find(".quiz-button-next").click(function(){o();var e=t.find(".quiz-question.active input[type=radio]:checked");return 0===e.length?(n.show(),!1):(n.hide(),t.find(".quiz-question.active").removeClass("active").next().addClass("active"),h(1),!1)}),$(this).find(".quiz-button-prev").click(function(){n.hide(),t.find(".quiz-question.active").removeClass("active").prev().addClass("active"),h(-1)}),t.find(".quiz-button-finish").click(function(){var i=t.find(".quiz-question.active input[type=radio]:checked");if(0===i.length)return n.show(),!1;t.find(".quiz-question").hide(),s.hide(),t.find(".quiz-results").show();for(var r=o(),a=0,u,h=0;h<r.length;h++)a+=r[h];u=c(a/e.score_max*100,2),t.find(".quiz-score").html(u+e.score_suffix);var f="";for(var d in e.brackets)u<=parseInt(d)&&""===f&&(f=e.brackets[d]);$(".quiz-bracket-"+f).show();var l=e.share_message;return l=l.replace("{title}",e.title),l=l.replace("{score}",u+e.score_suffix),l=l.replace("{url}",e.share_url),$(".quiz-share-twitter").attr("href","https://twitter.com/intent/tweet?text="+encodeURI(l)+"&url="+encodeURI(e.share_url)+e.share_extras),$(".quiz-share-google").attr("href","https://plus.google.com/share?url="),$(".quiz-share-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?u="),!1})})}}(jQuery);